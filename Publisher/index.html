<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComposableArchitecture - Publisher</title>
    <link rel="stylesheet" type="text/css" href="/swift-composable-architecture/all.css" media="all" />
</head>
<body>
    <header>
        <a href="/swift-composable-architecture/">
            <strong>
                ComposableArchitecture
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#methods">Methods</a><ul><li class="function"><a href="#publisher.erasetoeffect()">erase​ToEffect()</a></li><li class="function"><a href="#publisher.catchtoeffect()">catch​ToEffect()</a></li><li class="function"><a href="#publisher.catchtoeffect(_:)">catch​ToEffect(_:​)</a></li><li class="function"><a href="#publisher.fireandforget(outputtype:failuretype:)">fire​And​Forget(output​Type:​failure​Type:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Extensions on</small>
    <code class="name">Publisher</code>
</h1>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="publisher.erasetoeffect()">
    <h3>
        <code><a href="#publisher.erasetoeffect()">erase​ToEffect()</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">eraseToEffect</span>() -&gt; <a href="/swift-composable-architecture/Effect"><span class="type">Effect</span></a>&lt;<span class="type">Output</span>, <span class="type">Failure</span>&gt;  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Turns any publisher into an <code>Effect</code>.</p>

</div>
<div class="discussion">
    <p>This can be useful for when you perform a chain of publisher transformations in a reducer, and
you need to convert that publisher to an effect so that you can return it from the reducer:</p>

<html><body><pre class="highlight"><code><span class="keyword">case</span> .<span class="variable">buttonTapped</span>:
  <span class="keyword">return</span> <span class="variable">fetchUser</span>(<span class="variable">id</span>: <span class="number literal">1</span>)
    .<span class="variable">filter</span>(\.<span class="variable">isAdmin</span>)
    .<span class="variable">eraseToEffect</span>()
</code></pre></body></html>
</div>
  <h4>Returns</h4>
  <p>An effect that wraps <code>self</code>.</p>

</div>
<div role="article" class="function" id="publisher.catchtoeffect()">
    <h3>
        <code><a href="#publisher.catchtoeffect()">catch​ToEffect()</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">catchToEffect</span>() -&gt; <a href="/swift-composable-architecture/Effect"><span class="type">Effect</span></a>&lt;<span class="type">Result</span>&lt;<span class="type">Output</span>, <span class="type">Failure</span>&gt;, <span class="type">Never</span>&gt;  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Turns any publisher into an <code>Effect</code> that cannot fail by wrapping its output and failure in
a result.</p>

</div>
<div class="discussion">
    <p>This can be useful when you are working with a failing API but want to deliver its data to an
action that handles both success and failure.</p>

<html><body><pre class="highlight"><code><span class="keyword">case</span> .<span class="variable">buttonTapped</span>:
  <span class="keyword">return</span> <span class="variable">environment</span>.<span class="variable">fetchUser</span>(<span class="variable">id</span>: <span class="number literal">1</span>)
    .<span class="variable">catchToEffect</span>()
    .<span class="variable">map</span>(<span class="variable">ProfileAction</span>.<span class="variable">userResponse</span>)
</code></pre></body></html>
</div>
  <h4>Returns</h4>
  <p>An effect that wraps <code>self</code>.</p>

</div>
<div role="article" class="function" id="publisher.catchtoeffect(_:)">
    <h3>
        <code><a href="#publisher.catchtoeffect(_:)">catch​ToEffect(_:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">catchToEffect</span>&lt;<span class="variable">T</span>&gt;(
    <span class="keyword">_</span> <span class="variable">transform</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">Output</span>, <span class="type">Failure</span>&gt;) -&gt; <span class="type">T</span>
  ) -&gt; <a href="/swift-composable-architecture/Effect"><span class="type">Effect</span></a>&lt;<span class="type">T</span>, <span class="type">Never</span>&gt;  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Turns any publisher into an <code>Effect</code> that cannot fail by wrapping its output and failure
into a result and then applying passed in function to it.</p>

</div>
<div class="discussion">
    <p>This is a convenience operator for writing <code>Effect/catchToEffect()</code> followed by a
<code>Effect/map(_:)</code>.</p>

<html><body><pre class="highlight"><code><span class="keyword">case</span> .<span class="variable">buttonTapped</span>:
  <span class="keyword">return</span> <span class="variable">environment</span>.<span class="variable">fetchUser</span>(<span class="variable">id</span>: <span class="number literal">1</span>)
    .<span class="variable">catchToEffect</span>(<span class="variable">ProfileAction</span>.<span class="variable">userResponse</span>)
</code></pre></body></html>
</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>transform</th>
    <td><code class="type">@escaping (Result&lt;Output, Failure&gt;) -&gt; T</code></td>
    <td><p>A mapping function that converts <code>Result&lt;Output,Failure&gt;</code> to another type.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An effect that wraps <code>self</code>.</p>

</div>
<div role="article" class="function" id="publisher.fireandforget(outputtype:failuretype:)">
    <h3>
        <code><a href="#publisher.fireandforget(outputtype:failuretype:)">fire​And​Forget(output​Type:​failure​Type:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">fireAndForget</span>&lt;<span class="variable">NewOutput</span>, <span class="variable">NewFailure</span>&gt;(
    <span class="variable">outputType</span>: <span class="type">NewOutput</span>.<span class="type">Type</span> = <span class="variable">NewOutput</span>.<span class="keyword">self</span>,
    <span class="variable">failureType</span>: <span class="type">NewFailure</span>.<span class="type">Type</span> = <span class="variable">NewFailure</span>.<span class="keyword">self</span>
  ) -&gt; <a href="/swift-composable-architecture/Effect"><span class="type">Effect</span></a>&lt;<span class="type">NewOutput</span>, <span class="type">NewFailure</span>&gt;  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Turns any publisher into an <code>Effect</code> for any output and failure type by ignoring all output
and any failure.</p>

</div>
<div class="discussion">
    <p>This is useful for times you want to fire off an effect but don't want to feed any data back
into the system. It can automatically promote an effect to your reducer's domain.</p>

<html><body><pre class="highlight"><code><span class="keyword">case</span> .<span class="variable">buttonTapped</span>:
  <span class="keyword">return</span> <span class="variable">analyticsClient</span>.<span class="variable">track</span>(<span class="string literal">"Button Tapped"</span>)
    .<span class="variable">fireAndForget</span>()
</code></pre></body></html>
</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>output​Type</th>
    <td><code class="type">New​Output.​Type</code></td>
    <td><p>An output type.</p>
</td>
</tr>
<tr>
    <th>failure​Type</th>
    <td><code class="type">New​Failure.​Type</code></td>
    <td><p>A failure type.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An effect that never produces output or errors.</p>

</div>
    </section>
        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2022-03-15T20:32:51+0000">March 15, 2022</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
