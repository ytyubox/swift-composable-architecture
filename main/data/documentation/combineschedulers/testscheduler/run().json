{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"run"},{"kind":"text","text":"()"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This method is useful for proving exhaustively that your publisher eventually completes"},{"type":"text","text":" "},{"type":"text","text":"and does not run forever. For example, the following code will run an infinite loop forever"},{"type":"text","text":" "},{"type":"text","text":"because the timer never finishes:"}]},{"type":"codeListing","syntax":null,"code":["let scheduler = DispatchQueue.test","Publishers.Timer(every: .seconds(1), scheduler: scheduler)","  .autoconnect()","  .sink { _ in print($0) }","  .store(in: &cancellables)","","scheduler.run() \/\/ Will never complete"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you wanted to make sure that this publisher eventually completes you would need to"},{"type":"text","text":" "},{"type":"text","text":"chain on another operator that completes it when a certain condition is met. This can be"},{"type":"text","text":" "},{"type":"text","text":"done in many ways, such as using "},{"type":"codeVoice","code":"prefix"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":null,"code":["let scheduler = DispatchQueue.test","Publishers.Timer(every: .seconds(1), scheduler: scheduler)","  .autoconnect()","  .prefix(3)","  .sink { _ in print($0) }","  .store(in: &cancellables)","","scheduler.run() \/\/ Prints 3 times and completes."]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/combineschedulers\/testscheduler\/run()"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/CombineSchedulers\/TestScheduler\/run()","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Runs the scheduler until it has no scheduled items left."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"run"},{"kind":"text","text":"()"}],"title":"run()","roleHeading":"Instance Method","role":"symbol","symbolKind":"method","externalID":"s:17CombineSchedulers13TestSchedulerC3runyyF","modules":[{"name":"CombineSchedulers"}]},"hierarchy":{"paths":[["doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/CombineSchedulers","doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/CombineSchedulers\/TestScheduler"]]},"references":{"doc://co.pointfree.ComposableArchitecture/documentation/CombineSchedulers":{"role":"collection","title":"CombineSchedulers","abstract":[],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/CombineSchedulers","kind":"symbol","type":"topic","url":"\/documentation\/combineschedulers"},"doc://co.pointfree.ComposableArchitecture/documentation/CombineSchedulers/TestScheduler":{"role":"symbol","title":"TestScheduler","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TestScheduler"}],"abstract":[{"type":"text","text":"A scheduler whose current time and execution can be controlled in a deterministic manner."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/CombineSchedulers\/TestScheduler","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TestScheduler"}],"url":"\/documentation\/combineschedulers\/testscheduler"},"doc://co.pointfree.ComposableArchitecture/documentation/CombineSchedulers/TestScheduler/run()":{"role":"symbol","title":"run()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"run"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Runs the scheduler until it has no scheduled items left."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/CombineSchedulers\/TestScheduler\/run()","kind":"symbol","type":"topic","url":"\/documentation\/combineschedulers\/testscheduler\/run()"}}}